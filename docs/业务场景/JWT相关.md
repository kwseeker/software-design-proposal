# JWT相关

+ **JWT如何实现只有一个终端能登录？**

  或者说一个终端登录将其他终端怎么挤下线？（这种场景还比较常见比如用户修改密码后重新登录这时其他终端应该下线）

  像使用Redis存储Token只需要重新登录自然之前的Token就会失效；

  但是 JWT 本身只会过期不会失效，使用黑名单可以在注销时将要失效的JWT存储到Redis黑名单；但是这种挤下线场景当前终端并不知道其他终端的JWT令牌是什么。

  没有什么好的方法，只能借助白名单机制（如用Redis存JWT但是白名单违背JWT无状态、去中心化的初衷），可以做的顶多是可以用摘要算法降低一下内存占用。

+ **JWT  token 自动续约**

  一种简单的方案是每次请求，都验证令牌有效性，有效就生成一个新的令牌并返回。

  暂时没有好的解决方法。

  